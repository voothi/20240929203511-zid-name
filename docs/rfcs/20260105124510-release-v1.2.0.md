# RFC: Release v1.2.0 - Batch Processing and Smart Sanitization

**ZID**: 20260105124510
**Status**: Staging
**Request**: 20260105124510

## Goal Description
Implement batch processing for multi-line clipboard content, standardize ZID detection, and ensure smart preservation of document structure (headings and list markers).

## Implementation Details

### Analytics and Decisions
1. **Batch Mode Heuristic**: Initial plan to check for *any* ZID was refined into a "Smart Detection" system. Single-line inputs are always sanitized to support manual substring or heading-to-filename workflows. Multi-line blocks respect the new configuration flag to avoid accidental destruction of notes.
2. **Heading Preservation**: Based on user feedback, lines starting with `#` are treated as structural elements and preserved in batch mode, even if general non-ZID processing is enabled.
3. **Prefix Preservation**: Standardized the ZID regex to recognize indentation,Bullets (`-`, `*`), Numbers (`1.`), and Checkboxes (`[ ]`, `[x]`). This preservation was extended to non-ZID lines in batch mode for better list management.
4. **Sanitization Logic**: Added a trailing separator strip step to handle strings containing trailing punctuation or spaces that resulted in dangling hyphens.

## Changes
- `zid_name.py`: Refactored `process_string` and `process_line` for batch support.
- `config.ini`: Added `process_non_zid_lines` setting (default False).
- `tests/test_zid_name.py`: Added 7 new test cases covering batch scenarios, smart logic, and heading preservation.

## Verification
- Automated tests: 12/12 pass.
- Manual verification: Confirmed "Task One - " -> "task-one" and multi-line preservation.

---
Created on: 2026-01-05
