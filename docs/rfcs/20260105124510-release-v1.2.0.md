# RFC: Release v1.2.0 - Batch Processing and Smart Sanitization

**ZID**: 20260105124510
**Status**: Staging
**Request**: 20260105124510

## Goal Description
Implement batch processing for multi-line clipboard content, standardize ZID detection, and ensure smart preservation of document structure (headings and list markers).

## Implementation Details

### Analytics and Decisions
1. **Batch Mode Heuristic**: Initial plan to check for *any* ZID was refined into a "Smart Detection" system. Single-line inputs are always sanitized to support manual substring or heading-to-filename workflows. Multi-line blocks respect the new configuration flag to avoid accidental destruction of notes.
2. **Heading Support**: Markdown headings (`#` to `######`) are now treated as valid prefixes. Like list markers, they are preserved while the text following them is slugified. If a ZID is already present (e.g., `## 2026...`), it is handled correctly; if not, and `process_non_zid_lines` is true, a new ZID is generated.
3. **Prefix Preservation**: Standardized the ZID regex to recognize indentation, Bullets (`-`, `*`), Numbers (`1.`), Checkboxes (`[ ]`, `[x]`), and Markdown Headings. This preservation exists for both ZID-present and non-ZID lines in batch mode.
4. **Sanitization Logic**: Added a trailing separator strip step and synchronized the `'. ': '-'` replacement across both projects. This ensures that sentence boundaries (dot followed by space) are cleanly converted to hyphens, preventing formatting artifacts in slugs.

## Changes
- `zid_name.py`: Refactored for batch support, heading prefixes, and synchronized replacements.
- `config.ini`: Added `process_non_zid_lines` and synchronized `Replacements` table.
- `obsidian_zid_wikilink.py`: Fully synchronized with root logic, adding wikilink batch processing.
- `tests/`: Expanded to 26 total test cases covering all new logic and boundaries.

## Verification
- Automated tests: 26/26 pass (12 in root, 14 in ref).
- Manual verification: Confirmed `Title. Description` -> `title-description`.

---
Created on: 2026-01-05
